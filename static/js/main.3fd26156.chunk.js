(window["webpackJsonpquidditch-scheduler"]=window["webpackJsonpquidditch-scheduler"]||[]).push([[0],{171:function(e,t,a){e.exports=a(265)},187:function(e,t){},189:function(e,t){},221:function(e,t){},222:function(e,t){},265:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),s=a.n(i),c=a(18),o=a(16),l=a(22),p=a(23),d=a(24),u=a(19),h=a(13),m=a(297),g=a(298),f=a(305),y=a(306),v=a(37),b=a(303),E=a(98),_=a.n(E);a(180);_.a.initializeApp({apiKey:"AIzaSyBpqnQ8cxhPbRoN49bsEfy9oFnK-HG9Fgw",authDomain:"rpi-quidditch.firebaseapp.com",databaseURL:"https://rpi-quidditch.firebaseio.com",projectId:"rpi-quidditch",storageBucket:"rpi-quidditch.appspot.com",messagingSenderId:"1051970990113",appId:"1:1051970990113:web:b79f5666c401f46b"});var k=_.a.firestore(),w=a(67),O=a.n(w),P=a(316),j=a(302),S=a(301),C=a(75),x=a.n(C),D=a(74),I=a.n(D),M=a(162),L=a(155),A=a.n(L),F=a(156),N=a.n(F),W=Object(M.a)({palette:{primary:A.a,secondary:N.a}}),R={margin:15},B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.handleMouseDownPassword=function(e){e.preventDefault()},a.state={username:"",password:"",showPassword:!1,errorMessage:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("login_button").click())})}},{key:"handleChange",value:function(e){"username"===e.target.id?this.setState({username:e.target.value}):"password"===e.target.id&&this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;k.collection("users").where("username","==",this.state.username.toLowerCase()).get().then(function(e){var a=e.docs.map(function(e){return e.data()});1===a.length?O.a.compareSync(t.state.password,a[0].password)?(t.props.updateAuth(a[0].player_id),t.props.updateAdmin(a[0].admin)):t.setState({errorMessage:"Login Failed: Your username/password do not match."}):t.setState({errorMessage:"Login Failed: Your username cannot be found."})})}},{key:"render",value:function(){return r.a.createElement(m.a,{theme:W},r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(g.a,{item:!0,xs:12,sm:10,md:6},r.a.createElement(P.a,{id:"username",label:"Username",value:this.state.username,onChange:this.handleChange,margin:"normal",variant:"outlined",fullWidth:!0}))),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(g.a,{item:!0,xs:12,sm:10,md:6},r.a.createElement(P.a,{id:"password",variant:"outlined",type:this.state.showPassword?"text":"password",label:"Password",value:this.state.password,onChange:this.handleChange,fullWidth:!0,margin:"normal",InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(j.a,{edge:"end","aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},this.state.showPassword?r.a.createElement(x.a,null):r.a.createElement(I.a,null)))}}))),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(g.a,{item:!0},this.state.errorMessage)),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{id:"login_button",variant:"contained",size:"large",color:"primary",style:R,onClick:this.handleSubmit},"Login"))))}}]),t}(n.Component),z=Object(u.b)(function(e){return{}},function(e){return{updateAuth:function(t){return e({type:"authenticate",payload:t})},updateAdmin:function(t){return e({type:"set_admin",payload:t})}}})(B),U=a(304),q=a(317),T={margin:15},H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleClickShowPassword=function(){a.setState({showPassword:!a.state.showPassword})},a.handleMouseDownPassword=function(e){e.preventDefault()},a.state={email:"",username:"",password:"",first_name:"",last_name:"",chck_chaser:!1,chck_beater:!1,chck_keeper:!1,chck_seeker:!1,errorMessage:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){"username"===e.target.id?this.setState({username:e.target.value}):"password"===e.target.id?this.setState({password:e.target.value}):"email"===e.target.id?this.setState({email:e.target.value}):"first_name"===e.target.id?this.setState({first_name:e.target.value}):"last_name"===e.target.id?this.setState({last_name:e.target.value}):"chck_chaser"===e.target.id?this.setState({chck_chaser:e.target.checked}):"chck_beater"===e.target.id?this.setState({chck_beater:e.target.checked}):"chck_keeper"===e.target.id?this.setState({chck_keeper:e.target.checked}):"chck_seeker"===e.target.id&&this.setState({chck_seeker:e.target.checked})}},{key:"handleSubmit",value:function(e){var t=this;return this.state.first_name?this.state.last_name?this.state.chck_chaser||this.state.chck_beater||this.state.chck_keeper||this.state.chck_seeker?this.state.email?this.state.username?this.state.password?this.state.password.length<5?(this.setState({errorMessage:"Registration Error: Password length must be at least 5 characters."}),null):void k.collection("users").where("username","==",this.state.username.toLowerCase()).get().then(function(e){var a=e.docs.map(function(e){return e.data()});if(console.log(a),a.length>=1)t.setState({errorMessage:"Registration Error: This username is unavailable."});else{var n={first_name:t.state.first_name,last_name:t.state.last_name,positions:{chaser:t.state.chck_chaser,beater:t.state.chck_beater,keeper:t.state.chck_keeper,seeker:t.state.chck_seeker},practices:null,comments:null};k.collection("players").add(n).then(function(e){e.get().then(function(e){var a={email:t.state.email,username:t.state.username.toLowerCase(),password:O.a.hashSync(t.state.password,10),player_id:e.id,admin:!1};k.collection("users").add(a),t.props.updateAuth(e.id)})})}}):(this.setState({errorMessage:"Registration Error: Invalid password."}),null):(this.setState({errorMessage:"Registration Error: Invalid username."}),null):(this.setState({errorMessage:"Registration Error: Invalid email."}),null):(this.setState({errorMessage:"Registration Error: Please select at least one position."}),null):(this.setState({errorMessage:"Registration Error: Invalid last name."}),null):(this.setState({errorMessage:"Registration Error: Invalid first name."}),null)}},{key:"render",value:function(){return r.a.createElement(m.a,{theme:W},r.a.createElement(P.a,{id:"first_name",label:"First Name",value:this.state.first_name,onChange:this.handleChange,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(P.a,{id:"last_name",label:"Last Name",value:this.state.last_name,onChange:this.handleChange,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0},r.a.createElement(U.a,{label:"Chaser",control:r.a.createElement(q.a,{checked:this.state.chck_chaser,onChange:this.handleChange,color:"primary",id:"chck_chaser"})})),r.a.createElement(g.a,{item:!0},r.a.createElement(U.a,{label:"Beater",control:r.a.createElement(q.a,{checked:this.state.chck_beater,onChange:this.handleChange,color:"primary",id:"chck_beater"})})),r.a.createElement(g.a,{item:!0},r.a.createElement(U.a,{label:"Keeper",control:r.a.createElement(q.a,{checked:this.state.chck_keeper,onChange:this.handleChange,color:"primary",id:"chck_keeper"})})),r.a.createElement(g.a,{item:!0},r.a.createElement(U.a,{label:"Seeker",control:r.a.createElement(q.a,{checked:this.state.chck_seeker,onChange:this.handleChange,color:"primary",id:"chck_seeker"})}))),r.a.createElement(P.a,{id:"email",label:"Email",value:this.state.email,onChange:this.handleChange,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(P.a,{id:"username",label:"Username",value:this.state.username,onChange:this.handleChange,margin:"normal",variant:"outlined",fullWidth:!0}),r.a.createElement(P.a,{id:"password",variant:"outlined",type:this.state.showPassword?"text":"password",label:"Password",value:this.state.password,onChange:this.handleChange,margin:"normal",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(j.a,{edge:"end","aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},this.state.showPassword?r.a.createElement(x.a,null):r.a.createElement(I.a,null)))}}),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},this.state.errorMessage),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(b.a,{variant:"contained",size:"large",color:"primary",style:T,onClick:this.handleSubmit},"Register")))}}]),t}(n.Component),K=Object(u.b)(function(e){return{}},function(e){return{updateAuth:function(t){return e({type:"authenticate",payload:t})}}})(H),V={margin:15},Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={username:"",password:"",loginscreen:[],buttonLabel:"Set-up a new account",isLogin:!0},a.handleSwitch=a.handleSwitch.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=[];e.push(r.a.createElement(z,{key:"login"})),this.setState({loginscreen:e})}},{key:"handleSwitch",value:function(){var e=[];this.state.isLogin?(e.push(r.a.createElement(K,{key:"register"})),this.setState({loginscreen:e,buttonLabel:"Already have an account?",isLogin:!1})):(e.push(r.a.createElement(z,{key:"login"})),this.setState({loginscreen:e,buttonLabel:"Set-up a new account",isLogin:!0}))}},{key:"render",value:function(){return r.a.createElement(m.a,{theme:W},r.a.createElement(f.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement(v.a,{variant:"h6"},this.state.isLogin?"Login":"Register"))),r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:!0}),r.a.createElement(g.a,{item:!0,xs:9},this.state.loginscreen),r.a.createElement(g.a,{item:!0,xs:!0})),r.a.createElement(g.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(g.a,{item:!0},r.a.createElement(b.a,{variant:"contained",size:"large",color:"primary",style:V,onClick:this.handleSwitch},this.state.buttonLabel))))}}]),t}(n.Component),J=Object(u.b)(function(e){return{}},function(e){return{}})(Y),G=a(27),Q=a(21),X=a.n(Q),$=a(307),Z=a(300),ee=a(308),te=a(311),ae=a(309),ne=a(310),re=a(159),ie=a.n(re),se=a(312),ce=a(76),oe=a.n(ce),le=a(157),pe=a.n(le),de=a(158),ue=a.n(de),he=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"isAccepted",value:function(e){for(var t in this.props.practices)if(this.props.practices[t].id===e&&this.props.practices[t].accepted)return!!this.props.practices[t].accepted.includes(this.props.player_id);return!1}},{key:"isDenied",value:function(e){for(var t in this.props.practices)if(this.props.practices[t].id===e&&this.props.practices[t].denied)return!!this.props.practices[t].denied.includes(this.props.player_id);return!1}},{key:"acceptPractice",value:function(e){var t=this;return e?this.isAccepted(e)?null:void k.collection("practices").doc(e).get().then(function(a){var n=a.data();n.accepted.push(t.props.player_id),t.isDenied(e)&&(n.denied=n.denied.filter(function(e){return e!==t.props.player_id})),k.collection("practices").doc(e).set(n);var r=X.a.cloneDeep(t.props.practices);for(var i in r)r[i].id===e&&(r[i]=n,r[i].id=e);t.props.updatePractices(r),t.forceUpdate()}):null}},{key:"denyPractice",value:function(e){var t=this;if(this.isDenied(e))return null;k.collection("practices").doc(e).get().then(function(a){var n=a.data();n.denied.push(t.props.player_id),t.isAccepted(e)&&(n.accepted=n.accepted.filter(function(e){return e!==t.props.player_id})),k.collection("practices").doc(e).set(n);var r=X.a.cloneDeep(t.props.practices);for(var i in r)r[i].id===e&&(r[i]=n,r[i].id=e);t.props.updatePractices(r),t.forceUpdate()})}},{key:"loadPractices",value:function(){if(!this.props.practices)return null;var e=this.props.practices,t=e.filter(function(e){return!e.expired}),a=X.a.reverse(e.filter(function(e){return e.expired})),n=[];for(var i in t)n.push(this.genPracticeItem(t[i]));for(var s in n.push(r.a.createElement($.a,{key:"divider"})),a)n.push(this.genPracticeItem(a[s]));return n}},{key:"genPracticeItem",value:function(e){var t=this;return r.a.createElement(ee.a,{button:!0,key:e.id,onClick:function(){return t.props.setOpenPractice(e.id)}},r.a.createElement(ae.a,null,r.a.createElement(ne.a,{style:{width:"60px",height:"60px"}},r.a.createElement(v.a,{variant:"h5",style:{margin:"10px"}},e.day[0]+"/"+e.day[1]))),r.a.createElement(te.a,{primary:e.location,secondary:e.start[0]+":"+(e.start[1]<10?"0"+e.start[1]:e.start[1])+(e.start[2]===e.end[2]?"":" ("+e.start[2]+")")+" - "+e.end[0]+":"+(e.end[1]<10?"0"+e.end[1]:e.end[1])+" ("+e.end[2]+")",style:{marginLeft:"20px"}}),r.a.createElement(se.a,null,e.expired?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{edge:"end",style:{marginRight:"10px"},color:this.isAccepted(e.id)?"primary":"default",onClick:function(){return t.acceptPractice(e.id)}},r.a.createElement(pe.a,null)),r.a.createElement(j.a,{edge:"end",style:{marginRight:"10px"},color:this.isDenied(e.id)?"primary":"default",onClick:function(){return t.denyPractice(e.id)}},r.a.createElement(ue.a,null))),this.props.admin_mode?r.a.createElement(j.a,{edge:"end",onClick:function(){return t.props.setOpenPractice("edit-"+e.id)}},r.a.createElement(oe.a,null)):null))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.a,{theme:W},r.a.createElement(Z.a,null,r.a.createElement(f.a,{position:"static",color:"secondary"},r.a.createElement(y.a,null,r.a.createElement(v.a,{variant:"h5"},"Practices"),this.props.admin_mode?r.a.createElement(j.a,{style:{marginLeft:"auto"},onClick:function(){return e.props.addPractice()}},r.a.createElement(ie.a,null)):r.a.createElement("div",null))),r.a.createElement($.a,null),this.loadPractices())))}}]),t}(n.Component),me=Object(u.b)(function(e){return{admin_mode:e.admin_mode,practices:e.practices,player_id:e.player_id}},function(e){return{updatePractices:function(t){return e({type:"update_practices",payload:t})},setOpenPractice:function(t){return e({type:"set_open_practice",payload:t})},addPractice:function(){return e({type:"set_open_practice",payload:"add"})}}})(he),ge=a(313),fe=a(314),ye=a(315),ve=a(99),be=a.n(ve),Ee=a(100),_e=a.n(Ee),ke=a(101),we=a.n(ke),Oe=a(102),Pe=a.n(Oe);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ce={location:"",day:[Number(xe().split("-")[1]),Number(xe().split("-")[2]),Number(xe().split("-")[0])],start:[6,0,"PM"],end:[8,0,"PM"],accepted:[],denied:[]};function xe(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1<9?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()}var De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={practice:Ce,id:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){if("day"===e.target.id){var t=e.target.value.split("-");this.setState({practice:Se({},this.state.practice,{day:[Number(t[1]),Number(t[2]),Number(t[0])]})})}else if("location"===e.target.id)this.setState({practice:Se({},this.state.practice,{location:e.target.value})});else if("start_time"===e.target.id){var a=e.target.value.split(":");this.setState({practice:Se({},this.state.practice,{start:[a[0]<=12?Number(a[0]):Number(a[0])-12,Number(a[1]),a[0]<12?"AM":"PM"]})})}else if("end_time"===e.target.id){var n=e.target.value.split(":");this.setState({practice:Se({},this.state.practice,{end:[n[0]<=12?Number(n[0]):Number(n[0])-12,Number(n[1]),n[0]<12?"AM":"PM"]})})}}},{key:"handleSubmit",value:function(){var e=this;this.props.admin_mode&&"add"===this.props.open_practice?k.collection("practices").add(this.state.practice).then(function(t){e.setState({id:t.id})}).then(function(t){var a=X.a.cloneDeep(e.props.practices),n=X.a.cloneDeep(e.state.practice);n.id=e.state.id,a.push(n),a.sort(function(t,a){return e.getPracticeMilli(t.day,t.start)>e.getPracticeMilli(a.day,a.start)?1:-1}),e.props.storePractices(a),e.props.setOpenPractice(e.state.id)}):(console.log(this.state),k.collection("practices").doc(this.state.id).set(this.state.practice).then(function(t){var a=X.a.cloneDeep(e.props.practices);a[e.indexFromId(e.state.id)]=e.state.practice,a.sort(function(t,a){return e.getPracticeMilli(t.day,t.start)>e.getPracticeMilli(a.day,a.start)?1:-1}),e.props.storePractices(a),e.props.setOpenPractice(e.state.id)}))}},{key:"getPracticeMilli",value:function(e,t){var a=e[0]+"/"+e[1]+"/"+e[2],n=t[0]+":"+t[1]+" "+t[2];return Date.parse(a+" "+n)}},{key:"indexFromId",value:function(e){if(!this.props.practices)return-1;for(var t in this.props.practices)if(this.props.practices[t].id===e)return t;return-1}},{key:"getTitle",value:function(){return"add"===this.props.open_practice?this.state.practice.location:this.props.practices&&this.props.open_practice&&this.props.practices[this.indexFromId(this.props.open_practice)]?this.props.practices[this.indexFromId(this.props.open_practice)].location:"..."}},{key:"getSubHeader",value:function(){if("add"===this.props.open_practice){var e=this.state.practice;return e.start[0]+":"+(e.start[1]<10?"0"+e.start[1]:e.start[1])+(e.start[2]===e.end[2]?"":" ("+e.start[2]+")")+" - "+e.end[0]+":"+(e.end[1]<10?"0"+e.end[1]:e.end[1])+" ("+e.end[2]+")"}if(!this.props.practices)return null;if(!this.props.open_practice)return null;if(!this.props.practices[this.indexFromId(this.props.open_practice)])return null;var t=this.props.practices[this.indexFromId(this.props.open_practice)];return t.start[0]+":"+(t.start[1]<10?"0"+t.start[1]:t.start[1])+(t.start[2]===t.end[2]?"":" ("+t.start[2]+")")+" - "+t.end[0]+":"+(t.end[1]<10?"0"+t.end[1]:t.end[1])+" ("+t.end[2]+")"}},{key:"getAvatar",value:function(){if("add"===this.props.open_practice){var e=this.state.practice;return e.day[0]+"/"+e.day[1]}if(!this.props.practices)return"...";if(!this.props.open_practice)return"...";if(!this.props.practices[this.indexFromId(this.props.open_practice)])return"...";var t=this.props.practices[this.indexFromId(this.props.open_practice)];return t.day[0]+"/"+t.day[1]}},{key:"componentDidUpdate",value:function(){this.props.open_practice&&"edit"===this.props.open_practice.split("-")[0]&&this.props.open_practice.split("-")[1]&&(this.setState({id:this.props.open_practice.split("-")[1],practice:this.props.practices[this.indexFromId(this.props.open_practice.split("-")[1])]}),this.props.setOpenPractice("edit-"))}},{key:"getAttendees",value:function(e){var t=this;if(!e)return null;if(!this.props.players)return null;var a=this.indexFromId(e),n=this.props.practices[a].accepted;return n=n.map(function(e){return r.a.createElement(ee.a,{key:e},t.props.players[e].positions.chaser?r.a.createElement(be.a,null):"",t.props.players[e].positions.beater?r.a.createElement(_e.a,null):"",t.props.players[e].positions.keeper?r.a.createElement(we.a,null):"",t.props.players[e].positions.seeker?r.a.createElement(Pe.a,null):"","\xa0",t.props.players[e].first_name+" "+t.props.players[e].last_name)})}},{key:"getNonAttendees",value:function(e){var t=this;if(!e)return null;if(!this.props.players)return null;var a=this.indexFromId(e),n=this.props.practices[a].denied;return n=n.map(function(e){return r.a.createElement(ee.a,{key:e},t.props.players[e].positions.chaser?r.a.createElement(be.a,null):"",t.props.players[e].positions.beater?r.a.createElement(_e.a,null):"",t.props.players[e].positions.keeper?r.a.createElement(we.a,null):"",t.props.players[e].positions.seeker?r.a.createElement(Pe.a,null):"","\xa0",t.props.players[e].first_name+" "+t.props.players[e].last_name)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(m.a,{theme:W},r.a.createElement(ge.a,null,r.a.createElement(fe.a,{avatar:r.a.createElement(ne.a,{style:{width:"60px",height:"60px"}},r.a.createElement(v.a,{variant:"h5",style:{margin:"10px"}},this.getAvatar())),action:this.props.admin_mode&&this.props.open_practice&&"edit"!==this.props.open_practice.split("-")[0]?r.a.createElement(j.a,{onClick:function(){return e.props.setOpenPractice("edit-"+e.props.open_practice)}},r.a.createElement(oe.a,null)):null,title:this.getTitle(),subheader:this.getSubHeader()}),this.props.admin_mode&&this.props.open_practice&&("add"===this.props.open_practice||"edit"===this.props.open_practice.split("-")[0])?r.a.createElement("div",null,r.a.createElement($.a,{style:{margin:"10px"}}),r.a.createElement(ye.a,null,r.a.createElement(g.a,{container:!0},r.a.createElement(P.a,{id:"location",label:"Location",type:"text",variant:"outlined",onChange:this.handleChange,style:{marginBottom:"20px"}}),r.a.createElement(P.a,{id:"day",label:"Day",type:"date",format:"MM/dd/yyyy",defaultValue:xe(),InputLabelProps:{shrink:!0},inputProps:{step:900},variant:"outlined",style:{marginLeft:"10px",marginBottom:"20px"},onChange:this.handleChange}),r.a.createElement(P.a,{id:"start_time",label:"Start Time",type:"time",defaultValue:"18:00",InputLabelProps:{shrink:!0},inputProps:{step:900},variant:"outlined",style:{marginLeft:"10px",marginBottom:"20px"},onChange:this.handleChange}),r.a.createElement(P.a,{id:"end_time",label:"End Time",type:"time",defaultValue:"20:00",InputLabelProps:{shrink:!0},inputProps:{step:900},variant:"outlined",style:{marginLeft:"10px",marginBottom:"20px"},onChange:this.handleChange}),r.a.createElement(b.a,{variant:"contained",size:"large",color:"primary",style:{marginLeft:"10px"},onClick:function(){return e.handleSubmit()}},this.props.admin_mode&&"add"===this.props.open_practice?"Add Practice":"Save")))):this.props.admin_mode?r.a.createElement("div",null,r.a.createElement($.a,{style:{margin:"0px 10px 0px 10px"}}),r.a.createElement(ye.a,{style:{padding:"0px"}},r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(v.a,{variant:"h6"},"Attending ",this.props.open_practice?"("+this.props.practices[this.indexFromId(this.props.open_practice)].accepted.length+")":null)),this.getAttendees(this.props.open_practice))),r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(v.a,{variant:"h6"},"Not Attending ",this.props.open_practice?"("+this.props.practices[this.indexFromId(this.props.open_practice)].denied.length+")":null)),this.getNonAttendees(this.props.open_practice)))))):r.a.createElement("div",null,r.a.createElement($.a,{style:{margin:"0px 10px 0px 10px"}}),r.a.createElement(ye.a,{style:{padding:"0px"}},r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(v.a,{variant:"h6"},"Attending ",this.props.open_practice?"("+this.props.practices[this.indexFromId(this.props.open_practice)].accepted.length+")":null)))),r.a.createElement(g.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,null,r.a.createElement(ee.a,null,r.a.createElement(v.a,{variant:"h6"},"Not Attending ",this.props.open_practice?"("+this.props.practices[this.indexFromId(this.props.open_practice)].denied.length+")":null))))))))))}}]),t}(n.Component),Ie=Object(u.b)(function(e){return{practices:e.practices,open_practice:e.open_practice,admin_mode:e.admin_mode,player_id:e.player_id,players:e.players}},function(e){return{storePractices:function(t){return e({type:"update_practices",payload:t})},setOpenPractice:function(t){return e({type:"set_open_practice",payload:t})}}})(De),Me=a(160),Le=a.n(Me),Ae=a(161),Fe=a.n(Ae);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach(function(t){Object(G.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={width:window.innerWidth,height:window.innerHeight,first_name:"",last_name:""},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(window.addEventListener("resize",this.updateWindowDimensions),!this.props.player_id)return null;k.collection("players").doc(this.props.player_id).get().then(function(t){e.setState(t.data())}),k.collection("practices").get().then(function(t){var a=t.docs.map(function(e){return We({},e.data(),{id:e.id})});a=a.map(function(t){return t.expired=Date.now()>e.getPracticeMilli(t.day,t.start),t}).sort(function(t,a){return e.getPracticeMilli(t.day,t.start)>e.getPracticeMilli(a.day,a.start)?1:-1}),e.props.storePractices(a),a.length>0?e.props.setOpenPractice(a[0].id):e.props.setOpenPractice("add")}),k.collection("players").get().then(function(t){var a={};for(var n in t.docs){var r=t.docs[n];a[r.id]=We({},r.data(),{id:r.id})}e.props.storePlayers(a)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"getPracticeMilli",value:function(e,t){var a=e[0]+"/"+e[1]+"/"+e[2],n=t[0]+":"+t[1]+" "+t[2];return Date.parse(a+" "+n)}},{key:"setupPage",value:function(){var e=this.state.width<960,t=r.a.createElement(g.a,{item:!0,xs:e?12:3,key:"practices"},r.a.createElement(me,null)),a=r.a.createElement(g.a,{item:!0,xs:e?12:9,key:"view"},r.a.createElement(Ie,null));return e?[a,t]:[t,a]}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,{theme:W},r.a.createElement("div",null,r.a.createElement(f.a,{position:"static"},r.a.createElement(y.a,null,r.a.createElement(v.a,{variant:"h4"},"Welcome, ",this.state.first_name),this.props.admin_mode?r.a.createElement(Le.a,null):null,r.a.createElement(j.a,{edge:"end",onClick:function(){return e.props.logout()},style:{marginLeft:"auto"}},r.a.createElement(Fe.a,null))))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(g.a,{container:!0},this.setupPage())))}}]),t}(n.Component),Be=Object(u.b)(function(e){return{admin_mode:e.admin_mode,player_id:e.player_id}},function(e){return{updateAuth:function(){return e({type:"authenticate",payload:null})},logout:function(){return e({type:"logout",payload:null})},storePractices:function(t){return e({type:"update_practices",payload:t})},setOpenPractice:function(t){return e({type:"set_open_practice",payload:t})},storePlayers:function(t){return e({type:"update_players",payload:t})}}})(Re),ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.authenticated?r.a.createElement("div",null,r.a.createElement(Be,null)):r.a.createElement("div",null,r.a.createElement(J,null)))}}]),t}(n.Component),Ue=Object(u.b)(function(e){return{authenticated:e.authenticated}},function(e){return{}})(ze);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=a(66),Te={authenticated:!1,player_id:"",admin_mode:!1,practices:null,open_practice:0,players:null},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dump_store":return console.log(e),e;case"authenticate":var a=X.a.cloneDeep(e);return a.authenticated=!0,a.player_id=t.payload,a;case"logout":var n=X.a.cloneDeep(e);return n.authenticated=!1,n.player_id="",n;case"set_admin":var r=X.a.cloneDeep(e);return r.admin_mode=t.payload,r;case"set_open_practice":var i=X.a.cloneDeep(e);return i.open_practice=t.payload,i;case"update_practices":var s=X.a.cloneDeep(e);return s.practices=t.payload,s;case"update_players":var c=X.a.cloneDeep(e);return c.players=t.payload,c;default:return e}};var Ke,Ve=(Ke=window.REDUX_INITIAL_DATA,Object(qe.b)(He,Ke));s.a.render(r.a.createElement(u.a,{store:Ve},r.a.createElement(Ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[171,1,2]]]);
//# sourceMappingURL=main.3fd26156.chunk.js.map